<p>--ORDINI--</p>

<div class="container" *ngIf="role === 0 || role === 1">
    <p> ADMIN o CASHIER </p>
</div>

<div class="container" *ngIf="role === 2 || role === 3">
    <p>Ordini arrivati</p>
    <ul *ngFor="let order of arrivedOrders" (click)="showFood(order)"> 
        <p>Tavoli: <span *ngFor="let table of order.tables">{{table.number}} </span></p>
        <ng-container *ngIf="showFoods.includes(order)">
            <li *ngFor="let food of ((role === 3) ? order.foods_ordered : order.beverages_ordered)">
                <span>{{food.name}}</span>
            </li>
        </ng-container>
        <button (click)="updateOrder(order)"> Prendi in carico </button>
    </ul>

    <p>Ordini in preparazione</p>
    <ul *ngFor="let order of preparingOrders" (click)="showFood(order)"> 
        <p>Tavoli: <span *ngFor="let table of order.tables">{{table.number}} </span></p>
        <ng-container *ngIf="showFoods.includes(order)">
            <li *ngFor="let food of ((role === 3) ? order.foods_ordered : order.beverages_ordered)">
                <span>{{food.name}}</span>
            </li>
        </ng-container>
        <button (click)="updateOrder(order)"> Termina </button>
    </ul>
</div>

<div class="container" *ngIf="role === 4">
    <p>Tavoli selezionati: {{shownSelectedTables}}</p>
    <ul> Tavoli che hanno gi√† ordinato
        <ng-container *ngFor="let order of shownOrders">
            <li *ngFor="let table of order.tables">
                <button (click)="selectTable(table, order)"> tavolo: {{table.number}} </button>
            </li>
        </ng-container>
    </ul>

    <ul> Tavoli che devono ancora ordinare
        <li *ngFor="let table of tablesWithoutOrders">
            <button (click)="selectTable(table, null)">tavolo: {{table.number}}
            </button>
        </li>
    </ul>
    <button (click)="getOrderId()"> Avanti </button>
</div>



<a routerLink="/home"><button > Home </button></a>